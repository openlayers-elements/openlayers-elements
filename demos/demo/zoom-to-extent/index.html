<!DOCTYPE html>
<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->
<html lang="en">
  <head>
    <title>Zooming to layers and features</title>

    <meta charset="UTF-8" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1, user-scalable=yes" />
    <script src="https://polyfill.io/v3/polyfill.min.js?flags=gated&features=default%2CNodeList.prototype.forEach,requestAnimationFrame,Element.prototype.classList,URL,Array.prototype.includes"></script>
    <link rel="stylesheet" href="../style.css" />
  </head>
  <body unresolved>
    <div>
      <h3>Zoom to layer</h3>
      <demo-snippet>
        <template>
<style>
  ol-map {
    --zoom-control-top: 10px;
    --zoom-control-right: 10px;
  }
</style>

<ol-map zoom="4" lat="39.828175" lon="-98.5795">
  <ol-layer-openstreetmap></ol-layer-openstreetmap>
  <ol-layer-geojson url="/assets/europe.geojson"></ol-layer-geojson>
  <ol-control id="zoom">
    <button onclick="goToEurope()">Go to Europe</button>
  </ol-control>
</ol-map>

<script>
  function goToEurope() {
    document.querySelector('ol-layer-geoJson').zoom()
  }
</script>
        </template>
      </demo-snippet>

      <h3>Zooming to individual features</h3>
      <p>
        To zoom to a single feature, an event has to be dispatched from
      </p>
      <demo-snippet class="centered-demo">
        <template>
<ol-map zoom="4" lat="46.7985" lon="8.2318">
  <ol-layer-openstreetmap></ol-layer-openstreetmap>
  <ol-layer-geojson
    url="https://openlayers.org/en/latest/examples/data/geojson/countries.geojson"
  ></ol-layer-geojson>
  <ol-select></ol-select>
</ol-map>

<script>
  document.querySelector('ol-select')
    .addEventListener('feature-selected', (e) => {
      e.target.dispatchEvent(new CustomEvent('zoom', {
        detail: {
          extent: e.detail.feature.getGeometry().getExtent(),
        },
        bubbles: true,
      }))
  })
</script>
        </template>
      </demo-snippet>
    </div>
  <script src="index.js" type="module"></script>
  </body>
</html>
